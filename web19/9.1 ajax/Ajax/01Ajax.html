<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <meta name="viewport"
        content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no, target-densitydpi=device-dpi">
    <!-- <meta http-equiv="Refresh" content="1" /> -->
    <link rel="stylesheet" href="../css/bootstrap.css">
    <title>Document</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            user-select: none;
        }

        #table {
            width: 300px;
            text-align: center;
            margin: auto;
        }

        th {
            text-align: center;
        }
    </style>
</head>

<body>
    <!-- <table id="table" class="table table-striped table-bordered table-hover table-responsive ">
        <thead>
            <td>姓名</td>
            <td>年龄</td>
            <td>爱好</td>
        </thead>
        <tbody></tbody>
    </table> -->


    <script>
        //一、创建xhr对象
        var xhr = new XMLHttpRequest();
        //二、打开一个连接
        xhr.open("get", "./a.json", true)
        //1、请求方式(get,post)    
        //2、请求url
        //3、是否异步
        //三、监控ajax请求的状态
        xhr.onreadystatechange = function () {
            //0表示没有open
            //1表示send()被调用
            //2表示请求头已经被服务器接收
            //3表示数据正在接收(开始接收服务器返回的东西,但还没有接收完成)
            //4表示请求完成,数据接收完毕
            if (xhr.readyState === 4) {
                // 要执行的代码
            }
        }
        //四、发送链接
        xhr.send()
        /*
            如果是post请求,必须设置请求头(用来模拟表单传递数据)
            xhr.setRequestHeader("content-type","application/x-fotm-urlencoded")
        */

        //兼容写法
        //1、创建xhr对象
        var xhr = null;
        if (window.XMLHttpRequest) {
            xhr = new XMLHttpRequest();
        } else {
            xhr = new ActiveXObject("Microsoft.XMLHTTP");
        };
        //二、打开请求
        xhr.open("get", "./a.json", true);
        //三、监控ajax请求的状态
        xhr.onreadystatechange = function () {
            if (xhr.readyState === 4) {
                if ((xhr.status >= 200 && xhr.status < 300) || xhr.status === 304) {
                    //请求成功写的代码
                } else {
                    //请求失败写的代码
                }
            }
        };
        //四、发送链接
        xhr.send();
        /*//如果是post请求,要写请求头
        xhr.setRequestHeader("content-type","application/x-fotm-urlencoded")*/





        // var tbody = document.getElementsByTagName("tbody")[0]
        // //创建xhr实例对象
        // var xhr = new XMLHttpRequest();
        // //指定接收回来的数据怎么处理
        // xhr.onreadystatechange = function () {
        //     if (xhr.readyState === 4) {
        //         var a = xhr.response;
        //         console.log(a);
        //         a = JSON.parse(a);
        //         console.log(a);
        //         a = a.message;
        //         console.log(a);
        //         for (var i = 0; i < a.length; i++) {
        //             var tr = document.createElement("tr")
        //             tr.innerHTML="<th>"+a[i].name+"</th><th>"+a[i].age+"</th><th>"+a[i].like+"</th>"
        //             tbody.appendChild(tr)
        //         }
        //     }
        // }
        // //创建请求 参数(请求方式,请求地址,是否异步)
        // xhr.open("get", "./a.json", true);
        // //发送请求 参数(请求头的内容,get方式没有请求头,参数写null)
        // xhr.send(null)




    </script>
</body>

</html>